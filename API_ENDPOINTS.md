# üì° GymFlow API - –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

## üîó Base URL
- –õ–æ–∫–∞–ª—å–Ω–æ: `http://localhost:8000`
- –ü—Ä–æ–¥–∞–∫—à–Ω: `https://your-app.onrender.com`

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç trailing slash `/` –≤ –∫–æ–Ω—Ü–µ URL!

---

## üìå –û–±—â–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `GET /` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± API
- `GET /health` - Health check
- `HEAD /health` - Health check (HEAD request)

---

## üë§ –ö–õ–ò–ï–ù–¢–°–ö–ê–Ø –ß–ê–°–¢–¨

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (`/auth`)
- `POST /auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
- `POST /auth/login` - –í—Ö–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞
- `GET /auth/me/{user_id}` - –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ü—Ä–æ—Ñ–∏–ª—å (`/profile`)
- `GET /profile/{client_id}/` - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –∫–ª–∏–µ–Ω—Ç–∞
- `PATCH /profile/{client_id}/` - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –∫–ª–∏–µ–Ω—Ç–∞

### –°–µ–∫—Ü–∏–∏ (`/sections`)
- `GET /sections/` - –°–ø–∏—Å–æ–∫ —Å–µ–∫—Ü–∏–π
  - Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
    - `sport_type` (optional) - –§–∏–ª—å—Ç—Ä –ø–æ –≤–∏–¥—É —Å–ø–æ—Ä—Ç–∞
    - `is_free` (optional) - –¢–æ–ª—å–∫–æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ (true/false)
    - `age` (optional) - –§–∏–ª—å—Ç—Ä –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É
- `GET /sections/{section_id}/` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ–∫—Ü–∏–∏

### –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ (`/schedule`)
- `GET /schedule/` - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π
  - Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
    - `section_id` (optional) - –§–∏–ª—å—Ç—Ä –ø–æ —Å–µ–∫—Ü–∏–∏
    - `trainer_id` (optional) - –§–∏–ª—å—Ç—Ä –ø–æ —Ç—Ä–µ–Ω–µ—Ä—É
    - `day_of_week` (optional) - –î–µ–Ω—å –Ω–µ–¥–µ–ª–∏
- `GET /schedule/{schedule_id}/` - –≠–ª–µ–º–µ–Ω—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

### –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (`/bookings`)
- `POST /bookings/?client_id={id}` - –°–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- `GET /bookings/client/{client_id}/` - –ü–æ–ª—É—á–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞
- `DELETE /bookings/{booking_id}/` - –û—Ç–º–µ–Ω–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üîß –ê–î–ú–ò–ù–°–ö–ê–Ø –ß–ê–°–¢–¨

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (`/admin/auth`)
- `POST /admin/auth/login` - –í—Ö–æ–¥ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- `GET /admin/auth/me/{employee_id}/` - –î–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ (`/admin/clients`)
- `GET /admin/clients/` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- `GET /admin/clients/{client_id}/` - –ö–ª–∏–µ–Ω—Ç –ø–æ ID
- `PATCH /admin/clients/{client_id}/` - –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–∞
- `DELETE /admin/clients/{client_id}/` - –£–¥–∞–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–µ—Ä–∞–º–∏ (`/admin/trainers`)
- `GET /admin/trainers/` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç—Ä–µ–Ω–µ—Ä–æ–≤
- `POST /admin/trainers/` - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ —Ç—Ä–µ–Ω–µ—Ä–∞
- `PATCH /admin/trainers/{trainer_id}/` - –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç—Ä–µ–Ω–µ—Ä–∞
- `DELETE /admin/trainers/{trainer_id}/` - –£–¥–∞–ª–∏—Ç—å —Ç—Ä–µ–Ω–µ—Ä–∞

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ü–∏—è–º–∏ (`/admin/sections`)
- `GET /admin/sections/` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–µ–∫—Ü–∏–π
- `POST /admin/sections/` - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å–µ–∫—Ü–∏—é
- `PATCH /admin/sections/{section_id}/` - –û–±–Ω–æ–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é
- `DELETE /admin/sections/{section_id}/` - –£–¥–∞–ª–∏—Ç—å —Å–µ–∫—Ü–∏—é

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º (`/admin/schedule`)
- `GET /admin/schedule/` - –í—Å–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- `POST /admin/schedule/` - –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- `PATCH /admin/schedule/{schedule_id}/` - –û–±–Ω–æ–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- `DELETE /admin/schedule/{schedule_id}/` - –£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏ (`/admin/bookings`)
- `GET /admin/bookings/` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- `GET /admin/bookings/{booking_id}/` - –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ ID
- `PATCH /admin/bookings/{booking_id}/` - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `GET /admin/bookings/stats/overview` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å—é (`/admin/attendance`)
- `GET /admin/attendance/` - –í—Å—è –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å
- `POST /admin/attendance/` - –û—Ç–º–µ—Ç–∏—Ç—å –ø–æ—Å–µ—â–µ–Ω–∏–µ
- `PATCH /admin/attendance/{attendance_id}/` - –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–º–µ—Ç–∫—É –ø–æ—Å–µ—â–µ–Ω–∏—è

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏ (`/admin/employees`) üîí –¢–æ–ª—å–∫–æ –¥–ª—è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- `GET /admin/employees/?admin_id={id}` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- `POST /admin/employees/?admin_id={id}` - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- `PATCH /admin/employees/{emp_id}/?admin_id={id}` - –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- `DELETE /admin/employees/{emp_id}/?admin_id={id}` - –£–¥–∞–ª–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

### –†–æ–ª–∏ (`/admin/roles`)
- `GET /admin/roles/` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–æ–ª–µ–π

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (`/admin/stats`)
- `GET /admin/stats/dashboard` - –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞

---

## üìä –í—Å–µ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤: 32

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:
- **–û–±—â–∏–µ**: 3
- **–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ**: 11
- **–ê–¥–º–∏–Ω—Å–∫–∏–µ**: 18

---

## üîê –¢–µ—Å—Ç–æ–≤—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ö–ª–∏–µ–Ω—Ç—ã:
- `ivanov@mail.ru` / `user123`
- `petrova@gmail.com` / `user123`
- `sidorov@yandex.ru` / `user123`
- `kozlova@mail.ru` / `user123`
- `novikov@gmail.com` / `user123`

### –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏:
- `admin@gym.ru` / `admin123` (–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)
- `manager@gym.ru` / `manager123` (–ú–µ–Ω–µ–¥–∂–µ—Ä)
- `trainer1@gym.ru` / `trainer123` (–¢—Ä–µ–Ω–µ—Ä)

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- **Swagger UI**: `http://localhost:8000/docs`
- **ReDoc**: `http://localhost:8000/redoc`
- **OpenAPI Schema**: `http://localhost:8000/openapi.json`

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –í—Ö–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞
```bash
curl -X POST "http://localhost:8000/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"login": "ivanov@mail.ru", "password": "user123"}'
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–æ–ª—É—á–∏—Ç—å —Å–µ–∫—Ü–∏–∏ –ø–æ –≤–∏–¥—É —Å–ø–æ—Ä—Ç–∞
```bash
curl "http://localhost:8000/sections/?sport_type=–ô–æ–≥–∞"
```

### –ü—Ä–∏–º–µ—Ä 3: –°–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
curl -X POST "http://localhost:8000/bookings/?client_id=1" \
  -H "Content-Type: application/json" \
  -d '{"section_id": 1}'
```

### –ü—Ä–∏–º–µ—Ä 4: –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (–∞–¥–º–∏–Ω)
```bash
curl "http://localhost:8000/admin/stats/dashboard"
```

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ
